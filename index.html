<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publications Site</title>
    <link rel="stylesheet" href="PD-CSS.css">

    <script>
      const eventHandler = () => {
        const fileInput = document.getElementById('fileInput'); 
        
        if(fileInput !== null || fileInput.files.length > 0) {
          parseCSVFile(fileInput.files[0]);
        } 
        else { return false; }
      }
  
      const parseCSVFile = (csvFile) => {
        
        const fileName = csvFile.name;
        const fileExtension = fileName.split('.')[1].toLowerCase();

        if(csvFile && fileExtension === 'csv') {
          const reader = new FileReader();
          let txt;
          
          reader.onload = (e) => {
            txt = e.target.result;
            document.write(txt);
            callback(txt);
          }
          reader.readAsText(csvFile);
          console.log(txt);
        }
        else { return; }
      }

      const populateTable = (file) => {
        const table = document.getElementById('mainTable');
        const parsedFile = parseCSVFile(file);
        console.log(csvFile);
      }
    </script>

  </head>
  <body class="pad-1">
    <input type="file" id="fileInput" onchange="eventHandler()">
    <div id="tableContainer">
      <table id="mainTable"></table>
    </div>
    
  </body>

</html>
